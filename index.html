<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon.png">
  <title>QA Automation Kanban Tracker</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #1a1a1a, #ffebf0);
      margin: 0;
      padding: 20px;
      color: #2c2c2c;
    }
    h1 {
      text-align: center;
      color: #ffb6c1;
      font-size: 2.2em;
      margin-bottom: 30px;
      animation: fadeIn 1s ease-in-out;
    }
    .header-img {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .header-img img {
      max-width: 200px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      animation: fadeIn 2s ease-in-out;
    }
    .kanban {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .column {
      background: #fff0f5;
      border-radius: 12px;
      padding: 15px;
      width: 30%;
      min-width: 280px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: transform 0.2s ease-in-out;
    }
    .column:hover {
      transform: scale(1.01);
    }
    .column h2 {
      text-align: center;
      color: #4a4a4a;
    }
    .task {
      background: #fff;
      border-left: 5px solid #f06292;
      margin: 10px 0;
      padding: 12px;
      border-radius: 6px;
      cursor: grab;
      position: relative;
      transition: background 0.3s ease;
    }
    .task:hover {
      background: #ffe4ec;
    }
    .task .actions {
      position: absolute;
      top: 5px;
      right: 5px;
      display: flex;
      gap: 5px;
    }
    .task button {
      border: none;
      background: none;
      cursor: pointer;
      font-size: 16px;
    }
    .task input, .task textarea {
      width: 100%;
      border: none;
      background: transparent;
      resize: none;
      font-size: 0.95em;
    }
    #taskForm {
      background: #fff0f5;
      padding: 15px;
      border-radius: 10px;
      max-width: 600px;
      margin: 0 auto 30px auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    #taskForm input, #taskForm textarea, #taskForm select, #taskForm button {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1em;
    }
    #taskForm button {
      background-color: #f06292;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    #taskForm button:hover {
      background-color: #ec407a;
    }
    #saveBtn {
      display: block;
      margin: 0 auto 30px auto;
      padding: 10px 20px;
      background: #2c2c2c;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
    }
    #saveBtn:hover {
      background: #1f1f1f;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="header-img">
    <img src="https://media.tenor.com/nmXJwmiIL7MAAAAi/chi-kitten.gif" alt="Chi Kitten">
    <img src="https://i.pinimg.com/originals/6b/c6/1d/6bc61df7d4aaf79ac86942f2ec9b3a63.gif" alt="Anime Girl" style="margin-left: 15px;">
  </div>

  <form id="taskForm">
    <input type="text" id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è" required>
    <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
    <input type="url" id="link" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <select id="column">
      <option value="inProgress">üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
      <option value="todo">üìù –ü–ª–∞–Ω</option>
      <option value="done">‚úÖ –ì–æ—Ç–æ–≤–æ</option>
    </select>
    <button type="submit">üìå –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</button>
  </form>

  <button id="saveBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ</button>

  <div class="kanban">
    <div class="column" id="todo">
      <h2>üìù –ü–ª–∞–Ω</h2>
    </div>
    <div class="column" id="inProgress">
      <h2>üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ</h2>
    </div>
    <div class="column" id="done">
      <h2>‚úÖ –ì–æ—Ç–æ–≤–æ</h2>
    </div>
  </div>

  <script>
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∑–∞–¥–∞—á (auto-sync)
    function saveToStorage() {
      localStorage.setItem('qaKanbanTasks', JSON.stringify(tasks));
    }

    const form = document.getElementById('taskForm');
    const columns = {
      todo: document.getElementById('todo'),
      inProgress: document.getElementById('inProgress'),
      done: document.getElementById('done')
    };
    const saveBtn = document.getElementById('saveBtn');

    let tasks = JSON.parse(localStorage.getItem('qaKanbanTasks')) || [
      { id: 1, title: 'BDD + Gherkin + Behave', description: '–ü–∏—à–µ–º –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ —Å—Ç–∏–ª–µ Given-When-Then', link: 'https://behave.readthedocs.io/en/stable/', status: 'todo' },
      { id: 2, title: 'Test Design Techniques', description: '–ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –¥—Ä.', link: 'https://testautomationu.applitools.com/test-design/', status: 'todo' },
      { id: 3, title: 'Mock / Stub —Å–µ—Ä–≤–∏—Å—ã', description: '–†–∞–±–æ—Ç–∞ —Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ API –∏ Postman mock servers', link: 'https://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/', status: 'todo' },
      { id: 4, title: 'QA Guru —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç', description: '–†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å API + UI + CI/CD + Allure', link: 'https://qaguru.ru/', status: 'inProgress' }
    ];

    let idCounter = tasks.length + 1;

    function renderTasks() {
      Object.values(columns).forEach(col => col.querySelectorAll('.task').forEach(el => el.remove()));
      tasks.forEach(task => {
        const el = document.createElement('div');
        el.className = 'task';
        el.draggable = true;
        el.dataset.id = task.id;
        el.innerHTML = `
          <div><strong contenteditable="true" onblur="editTitle(${task.id}, this.innerText)">${task.title}</strong></div>
          <div><textarea rows="2" onblur="editDescription(${task.id}, this.value)">${task.description}</textarea></div>
          ${task.link ? `<a href="${task.link}" target="_blank">üîó –°—Å—ã–ª–∫–∞</a>` : ''}
          <div class="actions">
            <button onclick="deleteTask(${task.id})">üóëÔ∏è</button>
          </div>
        `;
        columns[task.status].appendChild(el);
        el.addEventListener('dragstart', dragStart);
      });
      saveToStorage();
    }

    function editTitle(id, text) {
      const task = tasks.find(t => t.id === id);
      if (task) task.title = text.trim();
      saveToStorage();
    }

    function editDescription(id, text) {
      const task = tasks.find(t => t.id === id);
      if (task) task.description = text.trim();
      saveToStorage();
    }

    function dragStart(e) {
      e.dataTransfer.setData('text/plain', e.target.dataset.id);
    }

    Object.values(columns).forEach(col => {
      col.addEventListener('dragover', e => e.preventDefault());
      col.addEventListener('drop', e => {
        const id = e.dataTransfer.getData('text/plain');
        const task = tasks.find(t => t.id == id);
        if (task) {
          task.status = col.id;
          renderTasks();
        }
      });
    });

    function deleteTask(id) {
      tasks = tasks.filter(t => t.id !== id);
      renderTasks();
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      const title = document.getElementById('title').value;
      const description = document.getElementById('description').value;
      const link = document.getElementById('link').value;
      const column = document.getElementById('column').value;
      tasks.push({ id: idCounter++, title, description, link, status: column });
      form.reset();
      renderTasks();
    });

    saveBtn.addEventListener('click', () => {
      saveToStorage();
      alert('–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ!');
    });

    renderTasks();
  </script>
</body>
</html>
